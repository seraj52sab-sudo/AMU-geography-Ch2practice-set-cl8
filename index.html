<meta name='viewport' content='width=device-width, initial-scale=1'/><meta name='viewport' content='width=device-width, initial-scale=1'/><meta name='viewport' content='width=device-width, initial-scale=1'/>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integral School - Geography Practice Test (Class 8)</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']],
                processEscapes: true
            },
            options: {
                enableMenu: false
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(to right, #2C3E50, #4A6491);
            color: white;
            padding: 25px;
            text-align: center;
            position: relative;
        }
        
        .header h1 {
            font-family: 'Times New Roman', serif;
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }
        
        .header-box {
            background-color: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            backdrop-filter: blur(5px);
        }
        
        .header-box h2 {
            font-size: 24px;
            margin-bottom: 10px;
            font-family: 'Times New Roman', serif;
            font-weight: bold;
        }
        
        .header-box h3 {
            font-size: 22px;
            margin-bottom: 10px;
            font-family: 'Times New Roman', serif;
            font-weight: bold;
            color: #FFEB3B;
        }
        
        .header-box p {
            font-size: 18px;
            margin: 5px 0;
            font-family: 'Times New Roman', serif;
            font-weight: bold;
        }
        
        .contact-info {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 25px;
            margin-top: 20px;
            font-size: 17px;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        .email-contact {
            background: linear-gradient(to right, #FF512F, #F09819);
            color: white;
        }
        
        .mobile-contact {
            background: linear-gradient(to right, #00b09b, #96c93d);
            color: white;
        }
        
        .student-details {
            padding: 25px;
            background-color: #f8f9fa;
            border-bottom: 2px dashed #ddd;
        }
        
        .input-group {
            display: flex;
            flex-wrap: wrap;
            gap: 25px;
            margin-bottom: 15px;
        }
        
        .input-field {
            flex: 1;
            min-width: 280px;
        }
        
        .input-field label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2C3E50;
            font-size: 16px;
        }
        
        .input-field input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }
        
        .timer-section {
            padding: 15px 25px;
            background-color: #e3f2fd;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #bbdefb;
        }
        
        .timer {
            font-size: 32px;
            font-weight: bold;
            color: #2C3E50;
            background-color: white;
            padding: 12px 25px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            font-family: 'Courier New', monospace;
            min-width: 140px;
            text-align: center;
        }
        
        .instructions {
            padding: 20px 25px;
            background-color: #f0f7ff;
            border-bottom: 2px solid #ddd;
            font-size: 16px;
        }
        
        .instructions h3 {
            color: #2C3E50;
            margin-bottom: 10px;
            font-family: 'Times New Roman', serif;
        }
        
        .instructions ul {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 8px;
        }
        
        .questions-container {
            padding: 25px;
        }
        
        .question {
            margin-bottom: 30px;
            padding-bottom: 25px;
            border-bottom: 1px solid #eee;
        }
        
        .question-text {
            font-family: 'Times New Roman', serif;
            font-weight: 600;
            font-size: 19px;
            margin-bottom: 15px;
            color: #2C3E50;
            line-height: 1.8;
        }
        
        .options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .option {
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 16px;
            background-color: #f9f9f9;
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            background-color: #e3f2fd;
            border-color: #90caf9;
        }
        
        .option.selected {
            background-color: #bbdefb;
            border-color: #2196f3;
            font-weight: bold;
        }
        
        .submit-section {
            padding: 25px;
            text-align: center;
            background-color: #f8f9fa;
        }
        
        .submit-btn {
            background: linear-gradient(to right, #2C3E50, #4A6491);
            color: white;
            border: none;
            padding: 18px 45px;
            font-size: 20px;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
        }

        .topic-label {
            display: inline-block;
            background-color: #e3f2fd;
            color: #2C3E50;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 14px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .result-section, .answer-key, .whatsapp-notification {
            display: none;
            padding: 25px;
            margin: 20px;
            border-radius: 10px;
        }
        
        .result-section { 
            background-color: #e8f5e9; 
            border-top: 3px solid #4CAF50;
        }
        
        .answer-key { 
            background-color: #f5f5f5; 
            border-top: 3px solid #ddd; 
        }
        
        .whatsapp-notification { 
            background-color: #25D366; 
            color: white; 
            text-align: center; 
        }

        .key-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
        }
        
        .key-item {
            background: white; 
            padding: 10px; 
            border-radius: 5px; 
            text-align: center; 
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        @media (max-width: 768px) {
            .options { grid-template-columns: 1fr; }
            .key-grid { grid-template-columns: repeat(5, 1fr); }
        }
        
        @media (max-width: 480px) {
            .key-grid { grid-template-columns: repeat(3, 1fr); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>INTEGRAL SCHOOL PAHLAM SB PUR SAHARSA</h1>
            <div class="header-box">
                <h2>Class 8 - Geography Practice Test</h2>
                <h3>Chapter: Land, Soil, Water, Natural Vegetation and Wildlife Resources</h3>
                <p>• Complete Practice Test with 60 Questions</p>
                <p>• Based on NCERT and CBSE Curriculum</p>
            </div>
            <div class="contact-info">
                <div class="contact-item email-contact"><i class="fas fa-envelope"></i> seraj52.sab@gmail.com</div>
                <div class="contact-item mobile-contact"><i class="fas fa-phone"></i> 9576739852</div>
            </div>
        </div>
        
        <div class="student-details">
            <div class="input-group">
                <div class="input-field">
                    <label>Student Name</label>
                    <input type="text" id="studentName">
                </div>
                <div class="input-field">
                    <label>Roll Number</label>
                    <input type="text" id="rollNumber">
                </div>
            </div>
        </div>
        
        <div class="timer-section">
            <div class="timer-label"><i class="fas fa-clock"></i> Time Remaining:</div>
            <div class="timer" id="timer">40:00</div>
        </div>
        
        <div class="instructions">
            <h3><i class="fas fa-info-circle"></i> Instructions:</h3>
            <ul>
                <li>Total Questions: 60 | Time: 40 minutes</li>
                <li>All questions are compulsory.</li>
                <li>Each question carries 1 mark.</li>
                <li>Click on your answer choice to select it.</li>
                <li>Click the "Submit Test" button when finished.</li>
                <li>You can send your result directly to the teacher via WhatsApp.</li>
            </ul>
        </div>
        
        <div class="questions-container" id="questionsContainer"></div>
        
        <div class="submit-section">
            <button class="submit-btn" id="submitBtn"><i class="fas fa-paper-plane"></i> Submit Test</button>
        </div>

        <div class="whatsapp-notification" id="whatsappNotification">
            <i class="fab fa-whatsapp"></i> <span id="whatsappMessage"></span>
        </div>
        
        <div class="result-section" id="resultSection">
            <h2 style="text-align:center; color: #2C3E50; margin-bottom: 20px;">Test Result - Geography</h2>
            <div id="resultDetails"></div>
            <div style="font-size: 40px; text-align:center; font-weight:bold; margin: 20px; color: #2C3E50;" id="scoreDisplay"></div>
            <div id="feedback"></div>
            <div id="incorrectQuestions" style="margin-top: 20px; padding: 15px; background: #fff3cd; border-radius: 8px; display: none;">
                <h3 style="color: #856404; margin-bottom: 10px;"><i class="fas fa-exclamation-triangle"></i> Incorrect Questions:</h3>
                <div id="incorrectList"></div>
            </div>
        </div>
        
        <div class="answer-key" id="answerKey">
            <h3 style="text-align:center; margin-bottom:15px; color: #2C3E50;">Answer Key</h3>
            <div class="key-grid" id="keyGrid"></div>
        </div>
    </div>

    <script>
        const questions = [
            {
                topic: "Land Resources",
                question: "What percentage of the Earth's total surface area is covered by land?",
                options: ["10%", "20%", "30%", "40%"],
                correct: 2
            },
            {
                topic: "Land Resources",
                question: "Which of the following regions is least suitable for human habitation due to land characteristics?",
                options: ["River valleys", "Coastal plains", "Steep mountain slopes", "Fertile plains"],
                correct: 2
            },
            {
                topic: "Land Resources",
                question: "The term that refers to the use of land for different purposes such as agriculture, forestry, and urban development is:",
                options: ["Land degradation", "Land planning", "Land use", "Land zoning"],
                correct: 2
            },
            {
                topic: "Land Resources",
                question: "Which of the following is a human factor influencing land use patterns?",
                options: ["Soil type", "Climate", "Population density", "Relief features"],
                correct: 2
            },
            {
                topic: "Land Resources",
                question: "Land owned by individuals or corporations for personal or commercial use is known as:",
                options: ["Common property", "Government land", "Private land", "Protected area"],
                correct: 2
            },
            {
                topic: "Land Resources",
                question: "Community land, often used for grazing, collecting firewood, or harvesting fruits, is also called:",
                options: ["Private estate", "Urban land", "Common Property Resources (CPRs)", "Reserved forest"],
                correct: 2
            },
            {
                topic: "Land Resources",
                question: "Which of the following is a major anthropogenic cause of land degradation?",
                options: ["Earthquakes", "Volcanic eruptions", "Deforestation", "Glacial movement"],
                correct: 2
            },
            {
                topic: "Land Resources",
                question: "Afforestation primarily helps in:",
                options: ["Increasing urban sprawl", "Reducing soil erosion and improving groundwater recharge", "Expanding agricultural land", "Promoting desertification"],
                correct: 1
            },
            {
                topic: "Soil Resources",
                question: "Soil formation is a slow process. Approximately how many years does it take to form just 1 cm of fertile topsoil?",
                options: ["10–50 years", "100–200 years", "200–1000 years", "Over 10,000 years"],
                correct: 2
            },
            {
                topic: "Soil Resources",
                question: "Which component of soil is crucial for plant growth and is formed by the decomposition of organic matter?",
                options: ["Sand", "Silt", "Humus", "Clay"],
                correct: 2
            },
            {
                topic: "Soil Resources",
                question: "Which of the following is NOT a factor in soil formation?",
                options: ["Parent rock", "Time", "Wind direction", "Climate"],
                correct: 2
            },
            {
                topic: "Soil Resources",
                question: "Landslides in the Himalayan region are often triggered by:",
                options: ["Afforestation", "Terrace farming", "Construction and deforestation", "Mulching"],
                correct: 2
            },
            {
                topic: "Water Resources",
                question: "What percentage of the Earth's total water is freshwater?",
                options: ["97.3%", "5.2%", "2.7%", "0.3%"],
                correct: 2
            },
            {
                topic: "Water Resources",
                question: "Of the total freshwater available on Earth, the largest share is locked in:",
                options: ["Rivers and lakes", "Groundwater", "Ice caps and glaciers", "Atmospheric moisture"],
                correct: 2
            },
            {
                topic: "Water Resources",
                question: "The fraction of freshwater easily accessible for human use (rivers, lakes, shallow groundwater) is approximately:",
                options: ["10%", "1%", "0.001%", "30%"],
                correct: 1
            },
            {
                topic: "Water Resources",
                question: "The continuous circulation of water among oceans, atmosphere, and land is known as the:",
                options: ["Nitrogen cycle", "Carbon cycle", "Hydrological cycle", "Rock cycle"],
                correct: 2
            },
            {
                topic: "Water Resources",
                question: "Which of the following is a major cause of groundwater depletion in India?",
                options: ["Rainwater harvesting", "Drip irrigation", "Over-extraction for agriculture", "Afforestation"],
                correct: 2
            },
            {
                topic: "Water Resources",
                question: "Drip irrigation is most effective in:",
                options: ["Flood-prone areas", "Humid tropical regions", "Arid and semi-arid regions", "Deltaic regions"],
                correct: 2
            },
            {
                topic: "Water Resources",
                question: "Water scarcity in regions like Rajasthan is primarily due to:",
                options: ["High rainfall", "Excess groundwater", "Low and erratic rainfall", "Dense forest cover"],
                correct: 2
            },
            {
                topic: "Natural Vegetation",
                question: "The biosphere includes all areas where:",
                options: ["Only plants grow", "Only animals live", "Life exists (interaction of lithosphere, hydrosphere, and atmosphere)", "Human settlements are found"],
                correct: 2
            },
            {
                topic: "Natural Vegetation",
                question: "Mulberry trees are primarily cultivated for:",
                options: ["Timber", "Fruit", "Sericulture (silk production)", "Medicinal use"],
                correct: 2
            },
            {
                topic: "Wildlife Resources",
                question: "Vultures play a critical ecological role as:",
                options: ["Pollinators", "Seed dispersers", "Scavengers that prevent disease spread", "Top predators"],
                correct: 2
            },
            {
                topic: "Natural Vegetation",
                question: "Tropical deciduous forests are also known as:",
                options: ["Rainforests", "Monsoon forests", "Coniferous forests", "Tundra"],
                correct: 1
            },
            {
                topic: "Natural Vegetation",
                question: "Thorny bushes with small leaves and deep roots are adaptations to survive in:",
                options: ["Polar regions", "Tropical rainforests", "Desert ecosystems", "Alpine zones"],
                correct: 2
            },
            {
                topic: "Natural Vegetation",
                question: "The primary reason for deforestation worldwide is:",
                options: ["Wildlife conservation", "Expansion of agriculture and urban areas", "Soil conservation", "Afforestation"],
                correct: 1
            },
            {
                topic: "Wildlife Resources",
                question: "The drastic decline in vulture populations in South Asia is mainly due to:",
                options: ["Habitat loss", "Poaching", "Toxicity from the veterinary drug diclofenac", "Climate change"],
                correct: 2
            },
            {
                topic: "Wildlife Resources",
                question: "CITES (Convention on International Trade in Endangered Species) aims to:",
                options: ["Promote wildlife trade", "Ban all forms of animal use", "Ensure international trade does not threaten species survival", "Encourage zoos worldwide"],
                correct: 2
            },
            {
                topic: "Wildlife Resources",
                question: "National Parks differ from Wildlife Sanctuaries in that:",
                options: ["Grazing is allowed in National Parks", "Human activities are completely prohibited in National Parks", "Tourism is banned in Sanctuaries", "Only birds are protected in National Parks"],
                correct: 1
            },
            {
                topic: "Wildlife Resources",
                question: "Biosphere Reserves are designed to:",
                options: ["Focus only on tourism", "Allow mining and industry", "Balance biodiversity conservation and sustainable development", "Replace national parks"],
                correct: 2
            },
            {
                topic: "Wildlife Resources",
                question: "Which human activity directly contributes to wildlife extinction?",
                options: ["Organic farming", "Poaching", "Rainwater harvesting", "Agroforestry"],
                correct: 1
            },
            {
                topic: "Natural Vegetation",
                question: "Plants help in groundwater recharge by:",
                options: ["Increasing surface runoff", "Reducing infiltration", "Facilitating water percolation through roots", "Blocking rainwater"],
                correct: 2
            },
            {
                topic: "Soil Resources",
                question: "The primary cause of sheet erosion on gentle slopes is:",
                options: ["Wind", "Glaciers", "Unprotected soil exposed to rainfall", "Earthquakes"],
                correct: 2
            },
            {
                topic: "Soil Resources",
                question: "Intercropping helps in soil conservation by:",
                options: ["Increasing chemical fertilizer use", "Leaving fields bare", "Reducing runoff and holding soil with plant roots", "Promoting monoculture"],
                correct: 2
            },
            {
                topic: "Soil Resources",
                question: "Shelter belts are rows of trees planted to:",
                options: ["Increase crop yield through shade", "Reduce wind velocity and protect soil", "Provide timber only", "Block sunlight"],
                correct: 1
            },
            {
                topic: "Soil Resources",
                question: "Contour ploughing is practiced:",
                options: ["Upslope and downslope", "Along the slope contour lines", "In circular patterns", "Only in deserts"],
                correct: 1
            },
            {
                topic: "Land Resources",
                question: "Which of the following is a traditional use of community land in rural India?",
                options: ["Building shopping malls", "Grazing livestock", "Constructing highways", "Industrial setup"],
                correct: 1
            },
            {
                topic: "Land Resources",
                question: "Overgrazing leads to:",
                options: ["Increased soil fertility", "Vegetation cover loss and soil exposure", "Higher groundwater levels", "Forest expansion"],
                correct: 1
            },
            {
                topic: "Soil Resources",
                question: "The layer of soil just below the topsoil, containing less organic matter but more minerals, is called:",
                options: ["Bedrock", "Subsoil", "Humus layer", "Regolith"],
                correct: 1
            },
            {
                topic: "Soil Resources",
                question: "Which practice harms soil health in the long run?",
                options: ["Crop rotation", "Use of organic manure", "Excessive use of chemical fertilizers", "Mulching"],
                correct: 2
            },
            {
                topic: "Water Resources",
                question: "Earth is often called the 'Blue Planet' because:",
                options: ["It has blue soil", "Oceans cover ~71% of its surface", "The sky is blue", "It reflects blue light from the sun"],
                correct: 1
            },
            {
                topic: "Water Resources",
                question: "A single dripping tap can waste about ______ litres of water in a year.",
                options: ["120", "1,200", "12,000", "120,000"],
                correct: 1
            },
            {
                topic: "Water Resources",
                question: "The main source of freshwater for domestic, agricultural, and industrial use is:",
                options: ["Glaciers", "Oceans", "Groundwater and surface water (rivers, lakes)", "Atmospheric water vapor"],
                correct: 2
            },
            {
                topic: "Water Resources",
                question: "Rainwater harvesting primarily helps in:",
                options: ["Increasing flood risk", "Depleting aquifers", "Recharging groundwater", "Polluting rivers"],
                correct: 2
            },
            {
                topic: "Land Resources",
                question: "In the story from the NCERT textbook, Peter lives in:",
                options: ["Tanzania", "India", "New Zealand", "Brazil"],
                correct: 2
            },
            {
                topic: "Land Resources",
                question: "Mamba's story in the NCERT chapter illustrates life in:",
                options: ["Arctic region", "Rural Tanzania", "Urban Europe", "Australian desert"],
                correct: 1
            },
            {
                topic: "Land Resources",
                question: "Plains are best suited for agriculture mainly because of:",
                options: ["High altitude", "Steep slopes", "Fertile soil and flat terrain", "Heavy snowfall"],
                correct: 2
            },
            {
                topic: "Land Resources",
                question: "The contrasting lifestyles of Peter and Mamba highlight the role of:",
                options: ["Language differences", "Access to natural resources and technological development", "Religious beliefs", "Clothing styles"],
                correct: 1
            },
            {
                topic: "Land Resources",
                question: "Which of the following contributes to land degradation in urban areas?",
                options: ["Rooftop gardening", "Concrete paving and loss of permeable surfaces", "Tree plantation drives", "Waste segregation"],
                correct: 1
            },
            {
                topic: "Soil Resources",
                question: "Mulching involves covering the soil with a layer of organic material to:",
                options: ["Increase evaporation", "Prevent weed growth and retain moisture", "Promote soil erosion", "Attract pests"],
                correct: 1
            },
            {
                topic: "Soil Resources",
                question: "Rock dams are constructed across slopes to:",
                options: ["Generate electricity", "Speed up water flow", "Slow down water flow and prevent gully formation", "Divert rivers"],
                correct: 2
            },
            {
                topic: "Soil Resources",
                question: "Gullies are formed due to:",
                options: ["Afforestation", "Uncontrolled surface runoff cutting deep channels", "Wind deposition", "Glacial retreat"],
                correct: 1
            },
            {
                topic: "Natural Resources",
                question: "Which of the following is a renewable natural resource?",
                options: ["Coal", "Petroleum", "Solar energy", "Natural gas"],
                correct: 2
            },
            {
                topic: "Wildlife Resources",
                question: "In India, the national bird is protected under:",
                options: ["The Wildlife Protection Act, 1972", "The Forest Conservation Act, 1980", "The Environment Protection Act, 1986", "All of the above"],
                correct: 3
            },
            {
                topic: "Wildlife Resources",
                question: "Bees are crucial for the ecosystem primarily because they:",
                options: ["Produce honey only", "Pollinate flowering plants", "Control pests", "Improve soil fertility"],
                correct: 1
            },
            {
                topic: "Sustainable Development",
                question: "Which practice supports sustainable development?",
                options: ["Using plastic bags daily", "Leaving lights on in empty rooms", "Practicing crop rotation and organic farming", "Dumping waste in rivers"],
                correct: 2
            },
            {
                topic: "Land Resources",
                question: "The primary reason for the uneven distribution of population across the world is:",
                options: ["Differences in time zones", "Variation in landforms, climate, and availability of resources", "Language barriers", "Religious diversity"],
                correct: 1
            },
            {
                topic: "Soil Resources",
                question: "Which method is most effective in conserving soil on steep slopes?",
                options: ["Shifting cultivation", "Terrace farming", "Deep ploughing", "Monocropping"],
                correct: 1
            },
            {
                topic: "Water Resources",
                question: "What is the main purpose of constructing check dams?",
                options: ["To create large reservoirs", "To generate hydroelectric power", "To harvest rainwater and reduce soil erosion", "To facilitate shipping"],
                correct: 2
            },
            {
                topic: "Wildlife Resources",
                question: "Which of the following is an example of in-situ conservation?",
                options: ["Zoological parks", "Seed banks", "National Parks", "Botanical gardens"],
                correct: 2
            },
            {
                topic: "Water Resources",
                question: "The most effective individual action to conserve water at home is:",
                options: ["Taking longer showers", "Using a hose to wash cars", "Fixing leaking taps and using low-flow fixtures", "Watering lawns during midday"],
                correct: 2
            }
        ];

        let timeLeft = 40 * 60;
        let userAnswers = new Array(questions.length).fill(null);

        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            questions.forEach((q, i) => {
                const div = document.createElement('div');
                div.className = 'question';
                div.innerHTML = `
                    <div class="question-text">
                        <span style="background:#4A6491; color:white; padding:2px 8px; border-radius:50%; margin-right:10px">${i+1}</span>
                        ${q.question}
                    </div>
                    <div class="options">
                        ${q.options.map((opt, oi) => `
                            <div class="option" onclick="selectOption(${i}, ${oi}, this)">
                                ${String.fromCharCode(65+oi)}) ${opt}
                            </div>
                        `).join('')}
                    </div>
                `;
                container.appendChild(div);
            });
            if (window.MathJax) MathJax.typeset();
        }

        function selectOption(qi, oi, el) {
            const opts = el.parentElement.querySelectorAll('.option');
            opts.forEach(o => o.classList.remove('selected'));
            el.classList.add('selected');
            userAnswers[qi] = oi;
        }

        function startTimer() {
            const timerEl = document.getElementById('timer');
            const interval = setInterval(() => {
                timeLeft--;
                let m = Math.floor(timeLeft/60), s = timeLeft%60;
                timerEl.textContent = `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
                if (timeLeft <= 0) { clearInterval(interval); submitTest(); }
            }, 1000);
        }

        function submitTest() {
            let score = 0;
            let incorrectQs = [];
            
            questions.forEach((q, i) => { 
                if(userAnswers[i] === q.correct) {
                    score++; 
                } else {
                    incorrectQs.push(i+1);
                }
            });
            
            document.getElementById('resultSection').style.display = 'block';
            document.getElementById('answerKey').style.display = 'block';
            document.getElementById('scoreDisplay').textContent = `${score} / 60`;
            
            const percentage = ((score / 60) * 100).toFixed(2);
            let feedback = "";
            
            if (percentage >= 90) {
                feedback = "<p style='color:#2E7D32; text-align:center; font-weight:bold;'><i class='fas fa-trophy'></i> Excellent! You have mastered this chapter!</p>";
            } else if (percentage >= 70) {
                feedback = "<p style='color:#388E3C; text-align:center; font-weight:bold;'><i class='fas fa-star'></i> Good job! You have a good understanding of the topic.</p>";
            } else if (percentage >= 50) {
                feedback = "<p style='color:#F57C00; text-align:center; font-weight:bold;'><i class='fas fa-check-circle'></i> Satisfactory! Review the concepts you got wrong.</p>";
            } else {
                feedback = "<p style='color:#D32F2F; text-align:center; font-weight:bold;'><i class='fas fa-book'></i> Needs Improvement! Please study the chapter again.</p>";
            }
            
            document.getElementById('feedback').innerHTML = feedback;
            
            if(incorrectQs.length > 0) {
                document.getElementById('incorrectQuestions').style.display = 'block';
                document.getElementById('incorrectList').innerHTML = `
                    <p><strong>Total Incorrect:</strong> ${incorrectQs.length} questions</p>
                    <p><strong>Question Numbers:</strong> ${incorrectQs.join(', ')}</p>
                    <p><strong>Percentage:</strong> ${percentage}%</p>
                `;
            }
            
            const keyGrid = document.getElementById('keyGrid');
            keyGrid.innerHTML = '';
            questions.forEach((q, i) => {
                keyGrid.innerHTML += `<div class="key-item">Q${i+1}: ${String.fromCharCode(65+q.correct)}</div>`;
            });

            const name = document.getElementById('studentName').value || "Student";
            const roll = document.getElementById('rollNumber').value || "N/A";

            const msg = `*INTEGRAL SCHOOL PAHLAM SB PUR SAHARSA*\n\n*Geography Practice Test Result - Chapter 2 (Class 8)*\n\n*Student:* ${name}\n*Roll No:* ${roll}\n*Score:* ${score}/60\n*Percentage:*
            No:* ${roll}\n*Score:* ${score}/60\n*Percentage:* ${percentage}%\n*Incorrect Questions:* ${incorrectQs.length > 0 ? incorrectQs.join(', ') : 'None'}\n*Teacher's Feedback:* ${feedback.replace(/<[^>]*>/g, '')}\n\n────────────────────\n*From:* Md Seraj Ahmad (TGT Math Teacher ISLAMIA +2 High School Simri Bakhtiyarpur Saharsa)\n\n*Email:* seraj52.sab@gmail.com\n*Mobile:* 9576739852\n────────────────────\nFor any queries, please contact directly.`;

            const waUrl = `https://wa.me/9576739852?text=${encodeURIComponent(msg)}`;
            document.getElementById('whatsappNotification').style.display = 'block';
            document.getElementById('whatsappMessage').innerHTML = `<a href="${waUrl}" target="_blank" style="color:white; text-decoration:underline; font-weight:bold;">Click here to send result to Teacher via WhatsApp</a>`;
            
            window.scrollTo(0, document.body.scrollHeight);
        }

        window.onload = () => { 
            renderQuestions(); 
            startTimer(); 
            document.getElementById('submitBtn').onclick = submitTest; 
        };
    </script>
</body>
</html>